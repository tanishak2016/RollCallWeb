#pragma checksum "G:\RollCallWeb\Areas\morning\Views\Candidate\Dashboard.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "436fc418526874395d54419a98bbc0ed44c589a1"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_morning_Views_Candidate_Dashboard), @"mvc.1.0.view", @"/Areas/morning/Views/Candidate/Dashboard.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "G:\RollCallWeb\Areas\morning\Views\_ViewImports.cshtml"
using RollCall;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\RollCallWeb\Areas\morning\Views\_ViewImports.cshtml"
using RollCall.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"436fc418526874395d54419a98bbc0ed44c589a1", @"/Areas/morning/Views/Candidate/Dashboard.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"5891ee3185a2b4ebc1b32fc1c65a94a517da5870", @"/Areas/morning/Views/_ViewImports.cshtml")]
    public class Areas_morning_Views_Candidate_Dashboard : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral(@"
<div class=""container"" id=""containerTop"">
    <div class=""row"">
        <div class=""col-4"">
            <div id=""totaldiv""><label id=""total"" class=lbl></label></div>
        </div>
        <div class=""col-4"">
            <div id=""presentdiv""><label id=""totalPresent"" class=lbl></label></div>
        </div>
        <div class=""col-4"">
            <div id=""absentdiv""><label id=""totalAbsent"" class=lbl></label></div>
        </div>
    </div>
</div>

");
            WriteLiteral("        <div id=\"container\"></div>\r\n\r\n\r\n        <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js\"></script>\r\n\r\n");
            WriteLiteral(@"

        <script>
    // Set up the chart

            $(document).ready(function () {
                setTimeout(function () {
                    // alert('Reloading Page');
                    location.reload(true);
                }, 10000);
            });

     $(function () {

                 $.ajax({
                url: '");
#nullable restore
#line 45 "G:\RollCallWeb\Areas\morning\Views\Candidate\Dashboard.cshtml"
                 Write(Url.Action("DashboardBarChart", "Candidate", new { area="morning"}));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                dataType: ""json"",
                type: ""GET"",
                contentType: 'application/json; charset=utf-8',
                async: false,
                processData: false,
                cache: false,
                delay: 15,
                     success: function (data) {
                         debugger;
                         var totalStrenght = 0;
                         var totalPresent = 0;
                         var totalAbsent = 0;
                         var totalPercentage = 0;
                         let series = [];
                         let presentSeries = [];
                         let absentSeries = [];
                         for (let i in data) {
                             let pieData = {};
                             let presentData = {};
                             totalStrenght += data[i].total;
                             pieData.name = data[i].location;
                             pieData.y = data[i].total;
           ");
            WriteLiteral(@"                  presentSeries.push(data[i].present);
                             totalPresent += data[i].present;
                             absentSeries.push(data[i].absent)
                             totalAbsent += data[i].absent;
                             series.push(pieData);

                         }

                         totalPercentage = ((totalPresent / totalStrenght) * 100).toFixed(2);
                         var TotalStrenght = 'Total ' + ':' + totalStrenght + '';
                         var TotalPresent = 'Present ' + ':' + totalPresent + '(' + totalPercentage + '%' + ')';
                         var TotalAbsent = 'Absent' + ':' + totalAbsent + '';
                         $('#total').text(TotalStrenght);
                         $('#totalPresent').text(TotalPresent);
                         $('#totalAbsent').text(TotalAbsent);


                         DrawPieChart(series, presentSeries, absentSeries);
                     },

                error: functio");
            WriteLiteral(@"n (xhr) {
                    alert('error');
                }
            });
        });

    function DrawPieChart(series, presentSeries, absentSeries) {
        debugger;

      //  var seriesLength = series.length;
      //  var presentLength = presentSeries.length;
      //  var absentLength = absentSeries.length;
      // // var tot = 0;
      //  var presents = 0;
      //  var absents=0;
      //  //for (var i = 0; i < seriesLength; i++) {
      //  //    tot += series[i].y;

      //  //}
      //  for (var i = 0; i < presentLength; i++) {
      //      presents += presentSeries[i].present;
      //  }
      //  for (var i = 0; i < absentLength; i++) {
      //      absents += absentSeries[i].absent

      //  }
      ////  var TotalStrenght = 'Total ' + ':' + tot + '';
      //  var TotalPresent = 'Present ' + ':' + presents + '';
      //  var TotalAbsent = 'Absent' + ':' + absents + '';
      //  //$('#total').text(TotalStrenght);
      //  $('#totalPresent').text(T");
            WriteLiteral(@"otalPresent);
      //  $('#totalAbsent').text(TotalAbsent);

            var xAxisCategories = $.map(series,(elem) => {
                return elem.name;
            });
            $('#container').highcharts({
                chart: {
                    plotBackgroundColor: null,
                    plotBorderWidth: 1, //null,
                    plotShadow: true
                },
                title: {
                    text: 'Roll Call Data'
                },
                xAxis: {
                    categories: xAxisCategories,
                    crosshair: true
                },
                tooltip: {
                    formatter: function () {
                        //let percent = (100 * this.y) / total;
                        //percent = percent.toFixed(1);
                        //return '<span style=""font-size:13px;color:red"">' + percent + '% </span>';
                        return '<b></b><br/>' +
                            this.series.name + ': ' + t");
            WriteLiteral(@"his.y + '<br/>'

                    },
                    //pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                    //headerFormat: '<span style=""font-size:13px;color:red"">{point.key}</span><table>',
                    //pointFormat: '<tr href=""#"">' + '<td style=""padding:0;color:red""><b> {100*point.y)/total:.1f}% </b></td></tr>',
                    //footerFormat: '</table>'
                },
                //plotOptions: {
                //    column: {
                //        allowPointSelect: true,
                //        cursor: 'pointer',
                //        dataLabels: {
                //            enabled: true,
                //            format: '<span style=font-size:10px;color:red>{point.namess}{point.y}</span>',

                //        },
                //        showInLegend: true
                //    }
                //},
                series: [{
                    type: 'column',
                    name: 'Total',
   ");
            WriteLiteral(@"                 data: series
                },
                    {
                        type: 'column',
                        name:'Present',
                       // data: [2000, 1500, 2500, 3500, 4000]
                        data: presentSeries
                    }
                    ,
                    {
                        type: 'column',
                        name: 'Absent',
                        data: absentSeries
                    }
                ]
            });
        }
        </script>
        <style>




            .highcharts-figure, .highcharts-data-table table {
                min-width: 310px;
                max-width: 800px;
                margin: 1em auto;
            }

            #container {
                height: 500px;
            }

            .highcharts-data-table table {
                font-family: Verdana, sans-serif;
                border-collapse: collapse;
                border: 1px solid #EBEBEB;
      ");
            WriteLiteral(@"          margin: 10px auto;
                text-align: center;
                width: 100%;
                max-width: 500px;
            }

            .highcharts-data-table caption {
                padding: 1em 0;
                font-size: 1.2em;
                color: #555;
            }

            .highcharts-data-table th {
                font-weight: 600;
                padding: 0.5em;
            }

            .highcharts-data-table td, .highcharts-data-table th, .highcharts-data-table caption {
                padding: 0.5em;
            }

            .highcharts-data-table thead tr, .highcharts-data-table tr:nth-child(even) {
                background: #f8f8f8;
            }

            .highcharts-data-table tr:hover {
                background: #f1f7ff;
            }
        </style>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
